<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.54.0" />
  <meta name="author" content="George G. Vega Yon">
  <meta name="description" content="Statistical Computing">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-40608305-3', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="GGVY">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="GGVY">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="/post/reboot-of-rgexf/">

  

  <title>Reboot of rgexf | GGVY</title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">GGVY</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Research</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#talks">
            
            <span>Talks</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">Reboot of rgexf</h1>
    

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2017-11-08 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Nov 8, 2017
    </time>
  </span>

  
  
  
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/categories/r">R</a
    >
    
  </span>
  
  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/tags/r">r</a
    >, 
    
    <a href="/tags/rstats">rstats</a
    >, 
    
    <a href="/tags/networks">networks</a
    >, 
    
    <a href="/tags/viz">viz</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2freboot-of-rgexf%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Reboot%20of%20rgexf&amp;url=%2fpost%2freboot-of-rgexf%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2freboot-of-rgexf%2f&amp;title=Reboot%20of%20rgexf"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2freboot-of-rgexf%2f&amp;title=Reboot%20of%20rgexf"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Reboot%20of%20rgexf&amp;body=%2fpost%2freboot-of-rgexf%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      


<p>The <a href="https://github.com/gvegayon/rgexf">rgexf</a> R package has been around a couple of years now, but without much going on on CRAN (my bad!). In this post I’ll show how to use the new version (on development and soon the be shipped to <a href="https://cran.r-project.org/package=rgexf">CRAN</a>) together with the <a href="https://github.com/USCCANA/netdiffuseR">netdiffuseR</a> R package to visualize a random diffusion process.</p>
<p>First, we load all the packages that we will be using</p>
<pre class="r"><code># Loading the relevant packages
library(igraph, quietly = TRUE)
library(rgexf, quietly = TRUE)
library(netdiffuseR, quietly = TRUE)</code></pre>
<p>Next, we simulate a random diffusion network, in this case, a small-world network with 200 nodes spanning 20 time periods.</p>
<pre class="r"><code># A random diffusion network
set.seed(122)
net &lt;- rdiffnet(n = 200, t=20, seed.graph = &quot;small-world&quot;)</code></pre>
<p>Now, we get the parameters ready, in this case, position using the function <code>layout_nicely</code> from the igraph package, and colors using the Time of Adoption (toa)</p>
<pre class="r"><code># Setting viz attributes
pos &lt;- cbind(layout_nicely(diffnet_to_igraph(net)[[1]]), 0)

# Coloring according to time of adoption. White ones are not
# adopters.
col &lt;- diffnet.toa(net)
col &lt;- col/20
col &lt;- colorRamp(blues9, alpha = TRUE)(col)
col[is.na(col[,1]),1:3] &lt;- 255
col[,4] &lt;- .5</code></pre>
<p>Finally, we create the GEXF object and call the plot function. In this case we are using <a href="https://github.com/raphv/gexf-js">gexf-js</a> (sigma-js will return in the future). Also, notice that we are only copying the files; the default behavior is to copy the files by setting <code>copy.only = TRUE</code> and start the server using the <a href="https://cran.r-project.org/package=servr">servr</a>.</p>
<pre class="r"><code># Creating the gexf object
gf &lt;- igraph.to.gexf(
  diffnet_to_igraph(net)[[1]],
  nodesVizAtt = list(
    color    = col,
    position = pos
    )
  )

# Plotting using gexf-js
plot(
  gf,
  edgeWidthFactor = .1,
  copy.only = TRUE,
  dir       = &quot;../../static/post/reboot-of-rgexf/viz&quot;
  )</code></pre>
<p>You can take a look at resulting website <a href="viz">here</a>.</p>
<div id="session-info" class="section level2">
<h2>Session info</h2>
<pre class="r"><code>devtools::session_info()</code></pre>
<pre><code>## ─ Session info ──────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 3.5.2 (2018-12-20)
##  os       Ubuntu 16.04.5 LTS          
##  system   x86_64, linux-gnu           
##  ui       X11                         
##  language en_US                       
##  collate  en_US.UTF-8                 
##  ctype    en_US.UTF-8                 
##  tz       America/Los_Angeles         
##  date     2019-03-06                  
## 
## ─ Packages ──────────────────────────────────────────────────────────────
##  package        * version   date       lib source        
##  assertthat       0.2.0     2017-04-11 [1] CRAN (R 3.4.0)
##  backports        1.1.2     2017-12-13 [1] CRAN (R 3.5.1)
##  base64enc        0.1-3     2015-07-28 [1] CRAN (R 3.5.1)
##  bindr            0.1.1     2018-03-13 [1] CRAN (R 3.4.3)
##  bindrcpp         0.2.2     2018-03-29 [1] CRAN (R 3.5.1)
##  blogdown         0.10      2019-01-09 [1] CRAN (R 3.5.2)
##  bookdown         0.9       2018-12-21 [1] CRAN (R 3.5.2)
##  boot             1.3-20    2017-07-30 [3] CRAN (R 3.5.0)
##  callr            3.0.0     2018-08-24 [1] CRAN (R 3.5.1)
##  cli              1.0.1     2018-09-25 [1] CRAN (R 3.5.1)
##  coda             0.19-2    2018-10-08 [1] CRAN (R 3.5.1)
##  codetools        0.2-16    2018-12-24 [3] CRAN (R 3.5.2)
##  colorspace       1.3-2     2016-12-14 [1] CRAN (R 3.5.1)
##  crayon           1.3.4     2017-09-16 [1] CRAN (R 3.4.1)
##  debugme          1.1.0     2017-10-22 [1] CRAN (R 3.4.2)
##  desc             1.2.0     2018-05-01 [1] CRAN (R 3.4.4)
##  devtools         2.0.1     2018-10-26 [1] CRAN (R 3.5.1)
##  digest           0.6.18    2018-10-10 [1] CRAN (R 3.5.1)
##  dplyr            0.7.8     2018-11-10 [1] CRAN (R 3.5.1)
##  evaluate         0.12      2018-10-09 [1] CRAN (R 3.5.1)
##  fs               1.2.6     2018-08-23 [1] CRAN (R 3.5.1)
##  ggplot2          3.1.0     2018-10-25 [1] CRAN (R 3.5.1)
##  glue             1.3.0     2018-07-17 [1] CRAN (R 3.5.1)
##  gridExtra        2.3       2017-09-09 [1] CRAN (R 3.4.1)
##  gtable           0.2.0     2016-02-26 [1] CRAN (R 3.3.2)
##  htmltools        0.3.6     2017-04-28 [1] CRAN (R 3.5.1)
##  httpuv           1.4.5.1   2018-12-18 [1] CRAN (R 3.5.2)
##  igraph         * 1.2.2     2018-07-27 [1] CRAN (R 3.5.1)
##  jsonlite         1.6       2018-12-07 [1] CRAN (R 3.5.2)
##  knitr            1.21      2018-12-10 [1] CRAN (R 3.5.2)
##  later            0.7.5     2018-09-18 [1] CRAN (R 3.5.1)
##  lattice          0.20-38   2018-11-04 [1] CRAN (R 3.5.1)
##  lazyeval         0.2.1     2017-10-29 [1] CRAN (R 3.5.1)
##  magrittr         1.5       2014-11-22 [1] CRAN (R 3.5.1)
##  MASS             7.3-51.1  2018-11-01 [3] CRAN (R 3.5.1)
##  MatchIt          3.0.2     2018-01-09 [1] CRAN (R 3.4.3)
##  Matrix           1.2-15    2018-11-01 [3] CRAN (R 3.5.1)
##  memoise          1.1.0     2017-04-21 [1] CRAN (R 3.4.0)
##  munsell          0.5.0     2018-06-12 [1] CRAN (R 3.4.4)
##  netdiffuseR    * 1.20.0    2019-02-26 [1] local         
##  network          1.13.0.1  2018-04-02 [1] CRAN (R 3.5.1)
##  networkDynamic   0.9.0     2016-01-15 [1] CRAN (R 3.5.1)
##  pillar           1.3.0     2018-07-14 [1] CRAN (R 3.4.4)
##  pkgbuild         1.0.2     2018-10-16 [1] CRAN (R 3.5.1)
##  pkgconfig        2.0.2     2018-08-16 [1] CRAN (R 3.5.1)
##  pkgload          1.0.2     2018-10-29 [1] CRAN (R 3.5.1)
##  plyr             1.8.4     2016-06-08 [1] CRAN (R 3.5.1)
##  prettyunits      1.0.2     2015-07-13 [1] CRAN (R 3.4.1)
##  processx         3.2.0     2018-08-16 [1] CRAN (R 3.5.1)
##  promises         1.0.1     2018-04-13 [1] CRAN (R 3.5.1)
##  ps               1.2.1     2018-11-06 [1] CRAN (R 3.5.1)
##  purrr            0.2.5     2018-05-29 [1] CRAN (R 3.5.1)
##  R6               2.3.0     2018-10-04 [1] CRAN (R 3.5.1)
##  Rcpp             1.0.0     2018-11-07 [1] CRAN (R 3.5.1)
##  remotes          2.0.2     2018-10-30 [1] CRAN (R 3.5.1)
##  rgexf          * 0.15.999  2019-03-06 [1] local         
##  rlang            0.3.0.1   2018-10-25 [1] CRAN (R 3.5.1)
##  rmarkdown        1.11      2018-12-08 [1] CRAN (R 3.5.2)
##  rprojroot        1.3-2     2018-01-03 [1] CRAN (R 3.4.3)
##  scales           1.0.0     2018-08-09 [1] CRAN (R 3.5.1)
##  servr            0.13      2019-03-04 [1] CRAN (R 3.5.2)
##  sessioninfo      1.1.1     2018-11-05 [1] CRAN (R 3.5.1)
##  sna              2.4       2016-08-08 [1] CRAN (R 3.5.1)
##  SparseM          1.77      2017-04-23 [1] CRAN (R 3.5.1)
##  statnet.common   4.1.4     2018-06-22 [1] CRAN (R 3.5.1)
##  stringi          1.2.4     2018-07-20 [1] CRAN (R 3.5.1)
##  stringr          1.3.1     2018-05-10 [1] CRAN (R 3.4.4)
##  testthat         2.0.1     2018-10-13 [1] CRAN (R 3.5.1)
##  tibble           1.4.2     2018-01-22 [1] CRAN (R 3.5.1)
##  tidyselect       0.2.5     2018-10-11 [1] CRAN (R 3.5.1)
##  usethis          1.4.0     2018-08-14 [1] CRAN (R 3.5.1)
##  viridis          0.5.1     2018-03-29 [1] CRAN (R 3.4.4)
##  viridisLite      0.3.0     2018-02-01 [1] CRAN (R 3.4.3)
##  withr            2.1.2     2018-03-15 [1] CRAN (R 3.4.3)
##  xfun             0.4       2018-10-23 [1] CRAN (R 3.5.1)
##  XML              3.98-1.16 2018-08-19 [1] CRAN (R 3.5.1)
##  yaml             2.2.0     2018-07-25 [1] CRAN (R 3.5.1)
## 
## [1] /usr/local/lib/R/site-library
## [2] /usr/lib/R/site-library
## [3] /usr/lib/R/library</code></pre>
</div>
<div id="last-updated" class="section level2">
<h2>Last updated</h2>
<p>This post was last updated on 2017-11-13 to reflect a small change in <code>rgexf</code> that makes it easier to process colors and positions.</p>
</div>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="/post/research-software-dev/"><span
      aria-hidden="true">&larr;</span> Research != Software dev?</a></li>
    

    
    <li class="next"><a href="/post/new-versions-of-abcoptim-and-googlepublicdata-on-cran/">New versions of ABCoptim and googlePublicData on CRAN <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "ggvy" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2016 George G. Vega Yon &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js" integrity="sha512-iHzEu7GbSc705hE2skyH6/AlTpOfBmkx7nUqTLGzPYR+C1tRaItbRlJ7hT/D3YQ9SV0fqLKzp4XY9wKulTBGTw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js" integrity="sha512-Z5heTz36xTemt1TbtbfXtTq5lMfYnOkXM2/eWcTTiLU01+Sw4ku1i7vScDc8fWhrP2abz9GQzgKH5NGBLoYlAw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js" integrity="sha512-CDeU7pRtkPX6XJtF/gcFWlEwyaX7mcAp5sO3VIu/ylsdR74wEw4wmBpD5yYTrmMAiAboi9thyBUr1vXRPA7t0Q==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/r.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/cpp.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

  </body>
</html>

