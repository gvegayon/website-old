---
title: Read viz attributes from GEXF files
author: George G. Vega Yon
date: '2017-11-27'
slug: read-viz-attributes-from-gexf-files
categories:
  - R
tags:
  - networks
  - r
  - rstats
  - viz
---



<p>So one of the new features that I’ve working on is processing viz attributes. In the <a href="https://cran.r-project.org/package=rgexf">CRAN version of rgexf</a>, the function <code>read.gexf</code> only reads in non-visual attributes and the graph structure itself, which is no longer true <a href="https://github.com/gvegayon/rgexf/commit/39d24409c7c641a1e62bdf518ff8ca46ea6172b5">as of today</a> (at least for the static viz attributes, all the other dynamic features supported by GEXF will come in the future).</p>
<p>We start by loading the R packages and reading the “lesmiserables.gexf” file that is included in <code>rgexf</code>. We use the <code>gexf.to.igraph</code> function to coerce the <code>gexf</code> object to an object of class <code>igraph</code></p>
<pre class="r"><code># Loading R packages
library(rgexf)
library(igraph)

# Reading and coercing into an igraph object
fn      &lt;- system.file(&quot;gexf-graphs&quot;, &quot;lesmiserables.gexf&quot;, package=&quot;rgexf&quot;)
gexf1   &lt;- read.gexf(fn)
igraph1 &lt;- gexf.to.igraph(gexf1)</code></pre>
<p>Here comes the nice new feature. <code>read.gexf</code> and <code>gexf.to.igraph</code> take into account the visual attributes of the network, and we can use those with <code>plot.igraph</code> directly without us specifying them! The only changes that I do in the next code chunk are rescaling the vertex and labels sizes (igraph automatically changes scales, which messes a bit with what we read from the GEXF object), and setting the edges to be curved and labels to be black using the <code>sans</code> font family, and this is what we get</p>
<pre class="r"><code># We set the mai = c(0,0,0,0) so we have more space for our plot
oldpar &lt;- par(no.readonly = TRUE)
par(mai = rep(0,4))
plot(igraph1,
     vertex.size        = V(igraph1)$size/2,
     vertex.label.cex   = V(igraph1)$size/50,
     vertex.label.color = &quot;black&quot;,
     edge.curved        = TRUE,
     vertex.label.family = &quot;sans&quot;
     )</code></pre>
<p><img src="/post/2017-11-27-read-viz-attributes-from-gexf-files_files/figure-html/igraph-plot-1.svg" width="576" /></p>
<pre class="r"><code>par(oldpar)</code></pre>
<p>And to make sure we are getting the same output, we can take a look at how the <code>plot.gexf</code> function draws our GEXF graph.</p>
<pre class="r"><code>plot(
  gexf1,
  copy.only = TRUE,
  dir       = &quot;../../static/post/read-viz-attributes-from-gexf-files/viz&quot;
  )</code></pre>
<pre><code>## GEXF graph successfully written at:
## /home/george/Documents/website/static/post/read-viz-attributes-from-gexf-files/viz/network.gexf</code></pre>
<iframe width="100%" height="400" src="viz/index.html">
</iframe>
<p>As expected, the same result.</p>
